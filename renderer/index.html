<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Target Directory Finder</title>
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;">
  <link rel="stylesheet" href="./styles.css">
</head>

<body>
  <header>Target Directory Finder</header>
  <div class="wrap">
    <!-- Left: Settings -->
    <section class="card">
      <h3 style="margin-top:0">Settings</h3>

      <div class="row">
        <input id="rootDirInput" type="text" placeholder="Choose root directory…" readonly>
        <button id="chooseBtn">Browse…</button>
      </div>

      <div class="row"><span class="muted">Scan Mode</span></div>
      <div class="row">
        <select id="scanMode">
          <option value="dirs">Directories (by name)</option>
          <option value="files">Files (by extension)</option>
        </select>
      </div>

      <div class="row" id="targetsLabel"><span class="muted">Targets</span></div>
      <div class="targets-wrap">
        <div class="target-row" id="targetsRow">
          <input id="newTargetInput" type="text" placeholder="Add folder name (e.g., node_modules)">
          <button id="addTargetBtn">Add</button>
        </div>
        <ul id="targetsList" class="targets" style="list-style:none; padding:0; margin-top:8px;"></ul>

        <div class="target-row" id="extensionsRow" style="display:none;">
          <input id="extensionsInput" type="text" placeholder="Extensions, e.g., .zip, .rar, zip">
          <button id="applyExtBtn">Apply</button>
        </div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button id="scanBtn" class="primary">Scan</button>
        <span id="status" class="muted"></span>
      </div>

      <p class="muted" style="margin-top:12px">
        In Directories mode, the scanner will NOT descend into matched folders (e.g., it won’t read inside
        <code>node_modules</code>).
      </p>
    </section>

    <!-- Right: Results -->
    <section class="card">
      <div class="row" style="justify-content: space-between; align-items:center;">
        <div class="row" style="gap:12px;">
          <span class="badge"><span id="count">0</span> found</span>
          <input id="searchInput" type="text" placeholder="Search… (filters results)">
        </div>
        <div class="controls">
          <select id="groupBy">
            <option value="target">Group: Target name</option>
            <option value="parent">Group: Parent folder</option>
            <option value="top">Group: Top-level under root</option>
            <option value="none">Group: None</option>
          </select>
          <select id="sortBy">
            <option value="az">Sort: A → Z</option>
            <option value="za">Sort: Z → A</option>
            <option value="lenAsc">Sort: Path length (short → long)</option>
            <option value="lenDesc">Sort: Path length (long → short)</option>
          </select>
          <button id="copyBtn">Copy list</button>
        </div>
      </div>

      <div id="results" class="results" style="margin-top:10px;"></div>
    </section>
  </div>

  <script src="./renderer.js"></script>
</body>

</html>